<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>ex1</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
        $().ready(function(){
            var canvas = document.getElementById("canvas");
            var audio = document.getElementById("au1");
            var audioo = document.getElementById("au2");
            var context = canvas.getContext("2d");
            var context = canvas.getContext("2d");
            var idTeste;
            var stuff = {
                "x": 0,
                "y": 0,
                "color": "#00a8e6",
                "widthhh": 25,
                "heighttt": 25,
                "speedx": 0,
                "speedy": 0
            }
            context.fillRect(stuff.x, stuff.y, stuff.heighttt, stuff.widthhh);
            function animate(){
                context.clearRect(0,0, canvas.width, canvas.height);
                context.fillStyle = stuff.color;
                stuff.x += stuff.speedx;
                stuff.y += stuff.speedy;
                 
                context.fillRect(stuff.x, stuff.y, stuff.widthhh,stuff.heighttt);
                   
                idTeste = requestAnimationFrame(animate); 

                if(stuff.x<0 || stuff.y<0 || stuff.x+stuff.widthhh>canvas.width || stuff.y+stuff.heighttt>canvas.height){  
                    cancelAnimationFrame(idTeste);
                    audio.pause();
                    audioo.play();
                    
                } 
                 
            }
           var animation = animate();
            $(document).keydown(function(event){
                if(event.which == 38){
                    stuff.speedx = 0; 
                    stuff.speedy = -1;
                }
                if(event.which == 40){
                    stuff.speedx = 0; 
                    stuff.speedy = 1; 
                }
                if(event.which == 37){
                    stuff.speedx = -1; 
                    stuff.speedy = 0; 
                }
                if(event.which == 39){
                    stuff.speedx = 1; 
                    stuff.speedy = 0; 
                }
            });
        });</script>
	</head>
	<body>
        <audio id="au1" autoplay loop>
            <source src="Untitled%20Project.m4a" id="aaa" type="audio/mp4" />
            <source src="Learn%20to%20travel%20%20%20%20travel%20to%20learn%20Robin%20Esrock%20at%20TEDxVancouver.mp3" id="aa" type="audio/mpeg" />
            <source src="Untitled%20Project%20(online-audio-converter.com).ogg" type="audio/ogg" />
        </audio>
        <audio id="au2" loop>
            <source src="Rick%20Astley%20%20%20Never%20Gonna%20Give%20You%20Up%20(Video).mp3" id="aa" type="audio/mpeg" />
            <source src="Rick%20Astley%20Never%20Gonna%20Give%20You%20Up%20(Video)%20(online-audio-converter.com).ogg" type="audio/ogg" />
        </audio>
        <canvas height="500" width="600" style="background-color: antiquewhite" id="canvas"></canvas>
	</body>
</html>